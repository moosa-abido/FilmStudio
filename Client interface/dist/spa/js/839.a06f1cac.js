"use strict";(globalThis["webpackChunkfilm_api"]=globalThis["webpackChunkfilm_api"]||[]).push([[839],{3682:(e,a,t)=>{t.d(a,{t:()=>s});var l=t(2502);const s=(0,l.Q_)("auth",{state:()=>({user:null}),getters:{loggedInUser(){return null==this.user&&(this.user=JSON.parse(localStorage.getItem("user"))),this.user}},actions:{setUser(e){this.user=e,localStorage.setItem("user",JSON.stringify(e))},resetUser(){this.user=null,localStorage.removeItem("user")}}})},8839:(e,a,t)=>{t.r(a),t.d(a,{default:()=>W});var l=t(9835),s=t(1569),u=t(3682),n=t(499),r=t(8339);const i=(0,l._)("div",{class:"text-h3"},"Login",-1),o=(0,l.Uk)("Sign in"),c=(0,l.Uk)(" Username or password incorrect! Please verify your crendentials "),d=(0,l._)("p",{class:"flex flex-center q-mt-md q-mb-none"},"Or Sign up",-1),m=(0,l.Uk)("Sign up"),p={__name:"SignInPage",setup(e){const a=(0,n.iH)(!0),t=(0,n.iH)(""),p=(0,n.iH)(""),f=(0,u.t)(),g=(0,r.tv)(),v=(0,n.iH)(!1);function w(){s.api.post("/users/authenticate",{username:t.value,password:p.value}).then((e=>{f.setUser(e.data);let a="admin";"film studio"==f.user.role&&(a="filmstudio"),g.push({name:a})})).catch((e=>v.value=!0))}return(e,s)=>{const u=(0,l.up)("q-card-section"),n=(0,l.up)("q-input"),r=(0,l.up)("q-icon"),f=(0,l.up)("q-btn"),g=(0,l.up)("q-card-actions"),h=(0,l.up)("q-banner"),_=(0,l.up)("q-separator"),q=(0,l.up)("q-card"),b=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(b,{class:"flex flex-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(u,{class:"q-gutter-md",style:{"min-width":"350px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{outlined:"",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e),label:"Username",onClick:s[1]||(s[1]=e=>v.value=!1)},null,8,["modelValue"]),(0,l.Wm)(n,{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=e=>p.value=e),outlined:"",label:"Password",type:a.value?"password":"text",onClick:s[4]||(s[4]=e=>v.value=!1)},{append:(0,l.w5)((()=>[(0,l.Wm)(r,{name:a.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[2]||(s[2]=e=>a.value=!a.value)},null,8,["name"])])),_:1},8,["modelValue","type"])])),_:1}),(0,l.Wm)(g,{class:"flex flex-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{outline:"",onClick:w},{default:(0,l.w5)((()=>[o])),_:1})])),_:1}),v.value?((0,l.wg)(),(0,l.j4)(h,{key:0,class:"text-white bg-red q-ma-md"},{default:(0,l.w5)((()=>[c])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(_),d,(0,l.Wm)(g,{class:"flex flex-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{dense:"",class:"bg-primary text-white",to:{name:"signup"}},{default:(0,l.w5)((()=>[m])),_:1})])),_:1})])),_:1})])),_:1})}}};var f=t(9885),g=t(4458),v=t(3190),w=t(6611),h=t(2857),_=t(1821),q=t(4455),b=t(7128),k=t(926),x=t(9984),S=t.n(x);const U=p,W=U;S()(p,"components",{QPage:f.Z,QCard:g.Z,QCardSection:v.Z,QInput:w.Z,QIcon:h.Z,QCardActions:_.Z,QBtn:q.Z,QBanner:b.Z,QSeparator:k.Z})}}]);